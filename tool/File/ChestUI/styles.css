body { font-family: sans-serif; padding: 20px; background-color: #f4f4f4; margin: 0; }
h1, h2, h3 { color: #333; margin-top: 1em; margin-bottom: 0.5em; }
h1 { border-bottom: 2px solid #ccc; padding-bottom: 10px; }
.controls { background-color: #eee; padding: 15px; border-radius: 5px; margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap; align-items: center; border: 1px solid #ddd; }
.controls > div { margin-bottom: 5px; }
.controls label { display: block; margin-bottom: 3px; font-weight: bold; font-size: 0.9em; color: #555; }
.controls input[type="text"], .controls select, .editor-panel input[type="text"], .editor-panel input[type="number"], .editor-panel textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; margin-top: 3px; font-size: 1em; }
.controls input[type="text"]{ min-width: 180px; }
.controls select { min-width: 150px; }

.tool-selector { background-color: #f0f0f0; padding: 8px; margin-bottom: 10px; border-radius: 4px; border: 1px solid #ddd; display: inline-block; }
.tool-selector span { margin-right: 10px; font-weight: bold; color: #555; }
.tool-button { padding: 6px 12px; margin: 0 3px; border: 1px solid #ccc; background-color: #fff; border-radius: 4px; cursor: pointer; font-size: 1em; transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s; }
.tool-button:hover { background-color: #e9e9e9; border-color: #bbb; }
.tool-button.active { background-color: #007bff; color: white; border-color: #0056b3; box-shadow: inset 0 1px 3px rgba(0,0,0,0.2); }
.tool-button.active:hover { background-color: #0069d9; }


#grid-instruction { font-style: italic; color: #555; margin-bottom: 8px; font-size: 0.9em; }

#selection-controls { margin-top: 5px; margin-bottom: 10px; min-height: 30px; }
#selection-controls button { padding: 8px 12px; margin-right: 8px; margin-bottom: 5px; border: none; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: background-color 0.15s ease; }
#selection-controls button:disabled { opacity: 0.5; cursor: not-allowed; }
#clear-selection-button { background-color: #ffc107; color: black; }
#edit-pattern-button { background-color: #17a2b8; color: white; }
#clear-individual-button { background-color: #fd7e14; color: white; }
#clear-pattern-membership-button { background-color: #6f42c1; color: white; }
#clear-selection-button:not(:disabled):hover { background-color: #e0a800; }
#edit-pattern-button:not(:disabled):hover { background-color: #138496; }
#clear-individual-button:not(:disabled):hover { background-color: #e66a02; }
#clear-pattern-membership-button:not(:disabled):hover { background-color: #5a349a; }

#chest-grid { display: grid; grid-template-columns: repeat(9, 1fr); gap: 4px; padding: 8px; background-color: #c6c6c6; border: 3px solid #505050; max-width: 500px; margin-bottom: 20px; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; }
.slot { aspect-ratio: 1 / 1; min-width: 40px; background-color: #8b8b8b; border: 1px solid #373737; display: flex; align-items: center; justify-content: center; font-size: 10px; color: white; position: relative; overflow: hidden; text-align: center; box-sizing: border-box; transition: background-color 0.1s ease-in-out; }
.slot.configured { background-color: #a0a0a0; border-color: #1f1f1f; }
.slot.pattern-member { background-color: #7a7a7a; border-color: #4a4a4a; }
.slot.configured::after, .slot.pattern-member::after { content: ''; display: block; position: absolute; bottom: 3px; right: 3px; width: 7px; height: 7px; border-radius: 50%; border: 1px solid rgba(0,0,0,0.5); }
.slot.configured::after { background-color: lightgreen; }
.slot.pattern-member::after { background-color: skyblue; }
.slot.configured.pattern-member::after { background-color: orange; }
.slot.selected { outline: 3px solid #007bff; outline-offset: -3px; border-color: #007bff; }
#chest-grid.tool-edit-mode .slot { cursor: pointer; }
#chest-grid.tool-edit-mode .slot:hover { background-color: #9d9d9d; }
#chest-grid.tool-select-mode .slot { cursor: crosshair; }
#chest-grid.tool-select-mode .slot:hover { background-color: #70a0d0; }


.editor-panel { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 25px; border: 1px solid #ccc; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); border-radius: 6px; z-index: 1000; min-width: 400px; max-width: 90vw; max-height: 90vh; overflow-y: auto; }
.editor-panel h3 { margin-top: 0; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
.editor-panel label { margin-top: 15px; margin-bottom: 5px; font-size: 0.9em; display: block; font-weight: bold; }
.editor-panel label[for*="enchanted"] { display: inline-block; font-weight: normal; margin-top: 15px; }
.editor-panel input[type="checkbox"] { margin-right: 5px; vertical-align: middle; }
.editor-buttons { margin-top: 25px; text-align: right; padding-top: 15px; border-top: 1px solid #eee; }
.editor-buttons button { padding: 10px 18px; margin-left: 10px; cursor: pointer; border: none; border-radius: 4px; font-size: 0.95em; }
#save-slot-button, #save-pattern-button { background-color: #28a745; color: white; }
#clear-slot-button, #clear-pattern-from-selected-button { background-color: #dc3545; color: white; }
#cancel-slot-button, #cancel-pattern-button { background-color: #6c757d; color: white; }
#save-slot-button:hover, #save-pattern-button:hover { background-color: #218838; }
#clear-slot-button:hover, #clear-pattern-from-selected-button:hover { background-color: #c82333; }
#cancel-slot-button:hover, #cancel-pattern-button:hover { background-color: #5a6268; }
#output-code { width: 100%; min-height: 250px; font-family: 'Courier New', Courier, monospace; font-size: 0.9em; background-color: #272822; color: #f8f8f2; border: 1px solid #ccc; border-radius: 4px; padding: 15px; margin-top: 5px; box-sizing: border-box; line-height: 1.4; white-space: pre; overflow-x: auto; }
#generate-code-button { display: block; width: 100%; padding: 12px 20px; margin-top: 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1.1em; transition: background-color 0.2s; }
#generate-code-button:hover { background-color: #0056b3; }
#overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); z-index: 999; display: none; }